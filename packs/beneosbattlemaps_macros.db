{"name":"Unpack all Scenes in your world at once","type":"script","author":"vq0NGLlwRM2vTPNW","img":"icons/svg/door-exit.svg","scope":"global","command":"// This macro will unpack any scenes in your world that have\n// packed data. It can be used to prevent you needing to go\n// through activating each scene one by one.\n(async () => {\n  ScenePacker.PromptForInstance().then(async instance => {\n    if (!instance?.moduleName) {\n      return;\n    }\n\n    const scenes = [];\n    for (const scene of game.scenes) {\n      if (ScenePacker.HasPackedData(scene, instance.moduleName)) {\n        scenes.push(scene);\n      }\n    }\n    if (!scenes.length) {\n      return ui.notifications.info(`There are no scenes that need unpacking in \"${instance.moduleName}\".`);\n    }\n\n    ui.notifications.info(`Unpacking ${scenes.length} scenes in \"${instance.moduleName}\".`);\n    console.log(`Unpacking ${scenes.length} scenes in \"${instance.moduleName}\".`);\n    for (const scene of scenes) {\n      await instance.ProcessScene(scene, {showLinkedJournal: false, showUI: false});\n    }\n    ui.notifications.info(`Done. Unpacked ${scenes.length} scenes in \"${instance.moduleName}\".`);\n    console.log(`Done. Unpacked ${scenes.length} scenes in \"${instance.moduleName}\".`);\n  })\n})();","folder":null,"sort":0,"permission":{"default":0,"vq0NGLlwRM2vTPNW":3},"flags":{"core":{"sourceId":"Macro.etwWCTplq9zqu0Ee"},"scene-packer":{"sourceId":"Macro.etwWCTplq9zqu0Ee"}},"_id":"T1G0E6jL6w8jUz9Z"}
